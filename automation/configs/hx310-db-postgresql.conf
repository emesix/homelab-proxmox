# PostgreSQL LXC Configuration for HX310-DB (breintrein)
# Deploy on: pve-hx310-db (192.168.10.12 staging, future: 10.10.200.20)
# Service: pg-brein (datakluizenaar)

# Container Identity
export var_ctid="100"                          # CT ID 100 for PostgreSQL
export var_hostname="pg-brein"                 # Container hostname

# Resource Allocation
export var_cpu="2"                             # 2 CPU cores (50% of HX310)
export var_ram="8192"                          # 8GB RAM
export var_disk="100"                          # 100GB disk space

# Storage - Use rpool for fast NVMe I/O
export var_storage="local-lvm"                 # Or "rpool/postgres" if dataset exists

# Container Type
export var_unprivileged="1"                    # Unprivileged container

# OS Configuration
export var_os="debian"                         # Debian base
export var_version="12"                        # Debian 12 Bookworm

# Network Configuration - STAGING
# Current staging network: 192.168.10.x/16
# Future management VLAN 200: 10.10.200.x/24
export var_brg="vmbr0"                         # Network bridge
export var_net="ip=192.168.10.20/16,gw=192.168.10.1"  # Staging IP (will change to 10.10.110.20 in backend VLAN)

# SSH Access
export var_ssh="yes"                           # Enable SSH

# Advanced Options
export var_verbose="no"                        # Verbose output
export var_tags="database;postgresql;tier0;breintrein"  # Organization tags

# PostgreSQL-specific notes:
# - Script will prompt for PostgreSQL version (15/16/17/18)
# - Choose version 16 for best balance of features and stability
# - To deploy non-interactively: echo "16" | ./pve-deploy -c configs/hx310-db-postgresql.conf postgresql
# - After deployment, create databases for: vaultwarden, gitea, wikijs
# - Configure pg_hba.conf for remote access from backend networks
