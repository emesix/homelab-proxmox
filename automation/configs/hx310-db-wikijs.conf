# Wiki.js LXC Configuration for HX310-DB (breintrein)
# Deploy on: pve-hx310-db (192.168.10.12 staging)
# Service: wiki-brein (weetal - Knowledge base)
# DEPENDS ON: PostgreSQL (192.168.10.20), Gitea (192.168.10.22)

# Container Identity
export var_ctid="103"                          # CT ID 103 for Wiki.js
export var_hostname="wiki-brein"               # Container hostname

# Resource Allocation
export var_cpu="1"                             # 1 CPU core
export var_ram="2048"                          # 2GB RAM
export var_disk="20"                           # 20GB disk

# Storage
export var_storage="local-lvm"                 # Or "rpool" for faster access

# Container Type
export var_unprivileged="1"                    # Unprivileged works

# OS Configuration
export var_os="debian"                         # Debian base
export var_version="12"                        # Debian 12 Bookworm

# Network Configuration - STAGING
export var_brg="vmbr0"                         # Network bridge
export var_net="ip=192.168.10.23/16,gw=192.168.10.1"  # Staging IP

# SSH Access
export var_ssh="yes"                           # Enable SSH

# Advanced Options
export var_verbose="no"                        # Verbose output
export var_tags="wiki;documentation;knowledge-base;tier0;breintrein"

# Wiki.js deployment notes:
# - Requires external database (PostgreSQL or MySQL)
# - SQLite NOT supported in v3.x+
# - Access via http://192.168.10.23:3000
# - After deployment:
#   1. Complete setup wizard
#   2. Database connection:
#      Type: PostgreSQL
#      Host: 192.168.10.20
#      Port: 5432
#      User: wikijs
#      Password: <from Vaultwarden>
#      Database: wikijs
#   3. Set site URL: http://192.168.10.23
#   4. Create admin account (store in Vaultwarden)
#   5. Configure Git sync:
#      Storage â†’ Git
#      Repository URL: http://192.168.10.22:3000/homelab/proxmox-homelab.git
#      Branch: main
#      Sync mode: Pull only (GitHub is SSoT)
#      Sync schedule: Hourly
#   6. Import documentation from docs/ folder
#   7. Verify markdown rendering of existing docs
